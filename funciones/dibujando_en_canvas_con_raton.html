<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Dibujando en canvas con el ratón</title>
		<style>
			html,body{
				margin: 0px;
				padding: 0px;
				width: 100%;
				height: 100%;
			}
			canvas{
				border: 2px solid #000;
			}
		</style>
	</head>
	<body>
		<canvas id="area_dibujo"></canvas>
		<div>Presiona el botón izquierdo, mueve el puntero y despues suelte el botón</div>
		<script>
			var mouse = {
			  a: 0,
			  b: 0,
			  x: 0,
			  y: 0
			};
			var ancho = document.body.clientWidth;
			var alto = document.body.clientHeight;
			ancho = ancho-4;
			alto = alto-50;
			var etiqueta = document.getElementById("area_dibujo");
			etiqueta.setAttribute("width",ancho);
			etiqueta.setAttribute("height",alto);
			var lienzo = etiqueta.getContext("2d");
			document.addEventListener("mousedown", ubicacionPunteroAbajo);
			document.addEventListener("mouseup", ubicacionPunteroArriba);

			function dibujar(){
				lienzo.beginPath();
				lienzo.strokeStyle = "black";
				lienzo.lineWidth = 2;
				lienzo.moveTo(mouse.a, mouse.b);
				lienzo.lineTo(mouse.x, mouse.y);
				lienzo.stroke();
				lienzo.closePath();
			}

			function ubicacionPunteroAbajo(e){
				mouse.x = e.pageX;
				mouse.y = e.pageY
				console.log("x:"+mouse.x+" y:"+mouse.y);
			}

			function ubicacionPunteroArriba(e){
				mouse.a = e.pageX
				mouse.b = e.pageY
				console.log("a:"+mouse.a+" b:"+mouse.b);
				dibujar();
			}
		</script>
	</body>
</html>
